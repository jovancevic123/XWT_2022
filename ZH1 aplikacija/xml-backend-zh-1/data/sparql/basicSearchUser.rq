PREFIX schema: <http://www.ftn.uns.ac.rs/rdf/examples/predicate>
prefix xsd: <http://www.w3.org/2001/XMLSchema#>
SELECT * from <http://localhost:3030/zigovi/data/graph/metadata/zh1>
WHERE
{
      {?zig  <http://www.ftn.uns.ac.rs/rdf/examples/predicate/broj_prijave_ziga> ?brojPrijaveZiga .
             ?zig  <http://www.ftn.uns.ac.rs/rdf/examples/predicate/podnosilac_email> ?podnosilacEmail .
             ?zig  <http://www.ftn.uns.ac.rs/rdf/examples/predicate/punomocnik_email> ?punomocnikEmail .
             ?zig  <http://www.ftn.uns.ac.rs/rdf/examples/predicate/datum_podnosenja> ?datumPodnosenja .
             OPTIONAL{
                ?zig  <http://www.ftn.uns.ac.rs/rdf/examples/predicate/broj_resenja> ?brojResenja .
             }
             FILTER( CONTAINS(UCASE(str(?podnosilacEmail)), UCASE("%2$s"))
                 && (CONTAINS(UCASE(str(?brojPrijaveZiga)), UCASE("%1$s"))
                 || CONTAINS(UCASE(str(?brojResenja)), UCASE("%1$s"))
                 || CONTAINS(UCASE(str(?punomocnikEmail)), UCASE("%1$s"))
                  || CONTAINS(UCASE(str(?datumPodnosenja)), UCASE("%1$s")))
           ).}
}